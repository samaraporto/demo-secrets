name: Check Weekday

on: 
  push:
    branches:
      - main

jobs:
  check_day:
    runs-on: ubuntu-latest

    steps:
      - name: Exibir mensagem inicial
        run: echo "Verificando o dia da semana..."

      - name: Definir variÃ¡vel WEEKDAY
        run: echo "WEEKDAY=$(date +%u)" >> $GITHUB_ENV

      - name: Exibir o dia atual
        run: echo "Hoje Ã© o dia nÃºmero $WEEKDAY da semana"

      - name: Dia Ãºtil - Mostrar mensagem secreta
        if: ${{ env.WEEKDAY >= 1 && env.WEEKDAY <= 5 }}
        env:
          SECRET_WORK_MESSAGE: ${{ secrets.WORK_MESSAGE }}
        run: echo "Hoje Ã© um dia Ãºtil! Mensagem secreta: $SECRET_WORK_MESSAGE"

      - name: Fim de semana - Exibir mensagem pÃºblica
        if: ${{ env.WEEKDAY == 6 || env.WEEKDAY == 7 }}
        run: echo "Hoje Ã© fim de semana! Aproveite para descansar! ðŸŽ‰"
